@model ReadySetResource.ViewModels.ShiftViewModel
@{

    Layout = "~/Areas/Apps/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Add Shift";
}

<h2>Add Shift</h2>

<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.css" rel="stylesheet" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>


<div class="col-md-4" style="max-width:280px">

    @Model.ErrorMessage

    @using (Html.BeginForm("AddShift", "Calendar"))
    {
        @Html.ValidationSummary(true, "Please fix the following errors.")
        <div class="form-group">
            <div class='input-group date' id='TempDate' style="width:100%;">
                @{Html.EnableClientValidation(false); }
                @Html.TextBoxFor(m => m.TempDate, new { @class = "form-control", style = "width:100%", @readonly = "true" })
                <span class="input-group-addon">
                    <span class="glyphicon glyphicon-calendar"></span>
                </span>
            </div>
        </div>
        <div class='input-group date' id='start' style="width:110px; float:left;">
            @Html.TextBoxFor(m => m.StartTime, new { @class = "form-control", placeholder = "Start" })
            <span class="input-group-addon">
                <span class="glyphicon glyphicon-time"></span>
            </span>
        </div>
        <div class='input-group date' id='end' style="width:110px;float:right;">
            @Html.TextBoxFor(m => m.EndTime, new { @class = "form-control", placeholder = "End" })
            <span class="input-group-addon">
                <span class="glyphicon glyphicon-time"></span>
            </span>
        </div>
        Html.EnableClientValidation(true);
        <div class="form-group" style="padding-top:50px">
            @Html.LabelFor(m => m.Employees)

            @Html.DropDownListFor(m => m.UserId, Model.Employees, new { @class = "form-control", style = "width:100%;" })
            @Html.ValidationMessageFor(m => m.Employees)
        </div>



        @Html.AntiForgeryToken()
        <p>
            @Html.ActionLink("Cancel", "Index", null, new { @class = "btn btn-default", style = "float:left" })
            <button type="submit" class="btn btn-primary" style="float:right">Save</button>
        </p>
        @Html.HiddenFor(m => m.EmployeesHolidays)
        @Html.HiddenFor(m => m.ShiftId)

    }
</div>


@*Generating client side validation*@
@section scripts
{
    @Scripts.Render("~/bundles/jqueryval")
}

<script type="text/javascript">
    $(function () {
        moment.lang('en', {
            week: { dow: 1 }
        });
        $('#TempDate').datetimepicker({
            format: 'DD/MM/YYYY',
            ignoreReadonly: true
        });
        $('#start').datetimepicker({
            format: 'HH:mm',
            ignoreReadonly: true
        });
        $('#end').datetimepicker({
            format: 'HH:mm',
            ignoreReadonly: true
        });
    });

</script>